<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>主页</title>
	<meta name="viewport" content="width=device-width, initial-scale = 1.0, user-scalable = false">
	<link href="./css/style.css"  rel="stylesheet" />
	<link href="./css/slider.css"  rel="stylesheet" >
	<link href="./css/reset.css"  rel="stylesheet" />
	<link href="./css/modal.css"  rel="stylesheet" />
</head>
<body class="body">
	<div id="login"></div>
	<header class="m-header">
	<!-- 提醒条 -->
		<div class="m-adTxt" id="remindTxt">
			<span class="m-adCon"> 网易云微专业，帮助你掌握专业技能...... <a href="#">立即查看&gt; </a> </span>

			<span class="m-close" onclick="noRemind()"><i class="xP"></i><span >不再提醒</span></span>
		</div>

		<div class="m-nav">
			<div class="m-navLeft">
			<!-- 头部 -->
				<span class="edu">
						<i class="m-eduImg"></i> <span class="green m-line">|</span>
						<span>  网易教育产品部</span>
					</span>

					<div class="m-navSubs" id="m-subscri" ><i class="subImg"></i>关注</div>
					<!-- onclick="watchClick()" -->

					<span class="m-fens">粉丝&nbsp; <span class="m-fenNum"> 45</span></span>

				
					<ul class="m-cList">
						<li><a href="http://open.163.com/">网易公开课</a></li>
						<li><a href="http://study.163.com/">网易云课堂</a></li>
						<li><a href="http://www.icourse163.org/">中国大学MOOC</a></li>
						<li><input type="text" maxlength="20" class="m-input hide" id="searInput"></li>
						<li><i class="m-searchIcon"></i></li>
					</ul>											
			</div>
			</div>
		</header>

		<content>
		<!-- 轮播图 -->
		<div class="banner">
			<div id="bannerBody"></div>
				<div class="m-banner">
					<ul class="m-cursor">
						<li class="prev"><</li>
						<li class="cursor">1</li>
						<li class="cursor">2</li>
						<li class="cursor">3</li>
						<li class="next">></li>
					</ul>
				</div>
		</div>

		

		<div class="m-info">
		
		
			<div class="info-content">
				<div class="left"><i class="ico-1"></i></div>
				<div class="right">
					<span>网易公开课</span>					
						<p  class="in-con">
								推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课。
						</p>								
						<p class="in-footer"><a href="#" class="green">了解更多 ></a></p>
				
				 </div>
			</div>


			<!-- 图片展示 -->
			<div class="info-content">
				<div class="left"><i class="ico-2"></i></div>
				<div class="right">
					<span>网易公开课</span>					
						<p  class="in-con">
								推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课。
						</p>			
					
						<p class="in-footer"><a href="#" class="green">了解更多 ></a></p>
				
				 </div>
			</div>
			<!-- <div id="videoShow"></div> -->
			<!-- 图片展示 -->
			<div class="info-content">
				<div class="left"><i class="ico-3"></i></div>
				<div class="right">
					<span>网易公开课</span>					
						<p  class="in-con">
								推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课，推出国内名校公开课。
						</p>			
					
						<p class="in-footer"><a href="#" class="green">了解更多 ></a></p>
				
				 </div>
			</div>

		</div>
<!-- 图片展示 -->
	<!-- 		
		<div>
			<ul  class="m-imgList">
				<li><img src="./imgs/i1.jpg"></li>
				<li><img src="./imgs/i1.jpg"></li>
				<li><img src="./imgs/i1.jpg"></li>
				<li><img src="./imgs/i1.jpg"></li>
				<li><img src="./imgs/i1.jpg"></li>
			</ul>
		 </div> -->


		 <!-- 课程列表 -->
		 <div class="m-courses">

			<div class="m-cLeft">
			<!-- 课程切换按钮 -->
				<div class="m-courseTab">
					<span class="m-tab  active" onclick="OptClick(10, 'tag1')"> 产品设计</span>
					<span class="m-tab" onclick="OptClick(20, 'tag2')">编程语言</span>
		 		</div>

		 		<ul class="courses" id="courses">
		 			<!-- 课程列表 -->
		
			
			 </ul>
			<!-- 导航页号 -->
				 <div class="navPage">		 	
				 	<ol id="navPage">
				 		<li><span class="navBtn prev" >&lt;</span></li>
				 		<li class="nav-active">1</li>
				 		<li>2</li>
				 		<li>3</li>
				 		<li><span class="navBtn next">&gt;</span></li>
				 	</ol>
				 </div>

			</div>

		 	<aside class="m-cRight">
		 		<!-- 机构介绍 -->
				<div class="m-unitDes">
					<div class="unitHead">
						<span>机构介绍</span>
					</div>
					
					<div class="m-unitVideo">
						<span>围观下面的视频了解吧:</span>
						<div class="uVideo" onclick="getVideo()">
							<img src="./imgs/uVideo.jpg" >
						</div>
						
						
					</div>
				</div>
		 		<!-- 最热排行 -->
				<div class="m-popularRank">
					<div class="unitHead">
						最热排行
					</div>
					<ul class="m-rankList" id="hotList">					
					</ul>
				</div>
		 	 </aside>
	

		 </div>
	</content>
		<footer class="m-footer">
		
			<!-- 网易信息 -->
			<div class="netEastInfo">
				<i></i>
				<span class="green v-line">|</span>
				<span class="green netEast"> &nbsp;网易教育产品部</span>
				<div class="copyInfo">
					<p class="copyr">
					&copy;2014 icourse163.org 浙ICP备812-5123号-1					
				</p>
				<p class="copyr">
					icourses.cn 京 备121-655号icourses.cn 京 备121-655号
				</p>
				</div>
				
			</div>
			<div class="otherInfo">
			<!-- 其他信息 -->
				<div class="m-Links">
					<p class="footerInfo">友情链接:</p>
			
						<p><a href="#">网易公开课</a></p>
						<p><a href="#">网易云课堂</a></p>
						<p><a href="#">中国大学MOOC</a></p>
					
				</div>

				<div class="m-us">
					<p class="footerInfo">我们:</p>
					
						<p><a href="#">关于</a></p>
						<p><a href="#">联系</a></p>
						<p><a href="#">关注</a><a href="#"><img width="25" height="20" src="./imgs/weibo.png" class="weibo"></i></a></p>
					
				</div>

				<div class="m-more">
					<p class="footerInfo">更多:</p>
					
						<p><a href="#">常见问题</a></p>
						<p><a href="#">建议反馈</a></p>
					
				</div>
			</div>		
	
		</footer>
	<div class="pageArea"></div>
	<script src="js/util.js"></script>
	<script src="js/slider.js"></script>
	<script src="js/index.js"></script>
	<script>
		
		var $ = function(selector){
			return [].slice.call(document.querySelectorAll(selector));
		}

		var cursor = $('.m-cursor .cursor');
		var prev = $('.m-cursor .prev')[0];
		var next = $('.m-cursor .next')[0];



		cursor.forEach(function (cursor, index){
			cursor.addEventListener('click', function(){
				slider.nav(index);
			})
		})

		prev.addEventListener('click',function(){
			slider.prev();
		});

		next.addEventListener('click', function(){
			slider.next();
		});

		var slider = new Slider({
			     //视口容器
  				  container: document.getElementById('bannerBody'),
  				 // 图片列表
				  images: [
				    "./imgs/banner1.jpg",
				    "./imgs/banner2.jpg",
				    "./imgs/banner3.jpg",
				  
				  ],
				  // animation:{
				  // 	enter: 'fadeIn',
				  // 	leave: 'fadeOut'
				  // },

				  // 是否允许拖拽
				  drag: true
		});

		// 通过监听`nav`事件来完成额外逻辑
	// --------------
	slider.on('nav', function(ev){
		var pageIndex = ev.pageIndex;
		cursor.forEach(function(cursor, index){
			if (index === pageIdnex){
				cursor.className = 'z-active';
			}else{
				cursor.className = 'slide';
			}
		})
	})

// 3s 自动轮播
	setInterval(function(){
		slider.next();
	}, 5000);

	slider.nav(1)


	</script>
	<script type="text/javascript" src="./js/pageAction.js"></script>
	<script src='./js/animate.js'></script>
	<script src='./js/modal.js'></script>
	
	<script type="text/javascript" src="./js/ajax.js"></script>
	<script src='./js/getCourse.js'></script>
	<script>

	var searchIco = document.getElementsByClassName('m-searchIcon')[0];
	searchIco.onmouseover = function(){
		var searInput = document.getElementById('searInput');
		searInput.className = " m-input ";

		searInput.onmouseover = function(){
			searInput.className = " m-input ";
		}

		searInput.onmouseleave = function(){
		setTimeout(function(){
			if (!searInput.value){

				searInput.className = " m-input hide ";
			}
	
		}, 1500);
		
	}

	}



	searchIco.onmouseleave = function(){
		setTimeout(function(){
			var searInput = document.getElementById('searInput');
			if (!searInput.value)
				searInput.className = " m-input hide ";
		}, 1500);
		
	}

	function closeModal (){
		modal.hide();
		//去除灰色样式
		var pa = document.getElementsByClassName("pageArea");
		pa[0].className = " pageArea ";
	}

	//登录
	function login(){						
			var data = {};
				
			data.userName = document.getElementById('username').value;
			data.password =  document.getElementById('password').value;
			console.log("登录"+data.userName)
			var ajax = new Ajax();
			ajax.get("http://study.163.com/webDev/login.htm",data, function(data){
				if (data == 1){
					//登录成功
					var tem = ' <div class="m-modal">\
								  <div class="modal_align"></div>\
								  <div class="modal_wrap">\
								    <div class="modal_head">恭喜</div>\
								    <div class="modal_body">登录成功</div>\
								    <div class="modal_foot">\
								      <a  href="#">确认</a>\
								      <a  href="#">取消</a>\
								    </div>\
								  </div>\
								</div>';
					var modal = new Modal({
						  // 1. 内容配置
						  content: tem, //可传入节点和字符串
						  // 2. 动画设置
						  animation: {
						    enter: 'bounceIn',
						    leave: 'bounceOut'
						  }
						});	
					modal.show();		

				}else{
						//登录失败
					var temp = ' <div class="m-modal">\
								  <div class="modal_align"></div>\
								  <div class="modal_wrap">\
								    <div class="modal_head">失败</div>\
								    <div class="modal_body">登录失败，请重新输入</div>\
								    <div class="modal_foot">\
								      <a href="#">确认</a>\
								      <a  href="#">取消</a>\
								    </div>\
								  </div>\
								</div>';
					var modal1 = new Modal({
						  // 1. 内容配置
						  content: temp, //可传入节点和字符串
						  // 2. 动画设置
						  animation: {
						    enter: 'bounceIn',
						    leave: 'bounceOut'
						  }
						});	
					modal1.show();	
				}
			})		
								
		}
	
	// function watchClick(){
	// 		var ajax = new Ajax();
	// 		ajax.get("http://study.163.com/webDev/attention.htm",{}, function(txt){
	// 			if (txt == 1){
	// 			//设置已关注cookie
	// 			var util = new util();
	// 			etCookie('attention', 1);
	// 			//window.cookie.attention = 1;
	// 			console.log("1")
	// 		}
	// 	});
	// }
	

 var content1 = '<div class="modal_head">\
      <span><i class="xP m-close" onclick="closeModal()"></i></span>\
      <h3>登录网易云课堂</h3></div>\
      <div class="modal_body">\
      <form id="loginForm" action="http://study.163.com/webDev/login.htm" method="get" autocomplete="false">\
        <div class="inputArea">\
          <input type="text" class="m-logName" id="username" name="userName" placeholder="账户" />\
          <br />\
          <input type="password" class="psw" id="password" minlength="6" placeholder="密码" />\
          <br />\
          <button type="button"  class="loginBtn" onclick="login()">登录</button>\
        </div>\
      </form>\
      </div>';
	var modal = new Modal({
	  // 1. 内容配置
	  content: content1, //可传入节点和字符串
	  // 2. 动画设置
	  animation: {
	    enter: 'bounceIn',
	    leave: 'bounceOut'
	  }
	});


	document.querySelector('#m-subscri').addEventListener('click', function(){
		var pa = document.getElementsByClassName('pageArea')[0];
		pa.width = window.outerWidth;
		pa.height = window.outerHeight;
		pa.className += " lowBlack show";
	  	modal.show(); 
	 });
	</script>
	<script type="text/javascript">
			var remind = getCookie('reminded');
			
			if (remind == '1'){
				var con =  document.getElementById('remindTxt');
				con.className += 'hide';
			}


				
			function OptClick (type,that){
				var tags = document.getElementsByClassName("m-tab");
				if (that == "tag1"){
					tags[0].className += " active";
					tags[1].className = " m-tab";
				}else{
					tags[1].className += " active";
					tags[0].className = " m-tab" ;
				}
				getAllCourse(type, 0);
			}

			
		

		function success(txt){
			alert(JSON.stringify(txt));
		}

		function fail(txt){
			alert("fail"+JSON.stringify(txt));
		}

		//getAllCourse(10);
	</script>
</body>
</html>